/*
 * jQuery Nivo Slider v2.4
 * http://nivo.dev7studios.com
 *
 * Copyright 2011, Gilbert Pellegrom
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 */

(function(a){var A=function(s,v){var e=a.extend({},a.fn.nivoSlider.defaults,v),g={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false,controlArea:""},f=a(s);f.data("nivo:vars",g);f.css("position","relative");f.addClass("nivoSlider");var k=f.children();k.each(function(){var b=a(this),h="";if(!b.is("img")){if(b.is("a")){b.addClass("nivo-imageLink");h=b}b=b.find("img:first")}var c=b.width();if(c==0)c=b.attr("width");var o=b.height();if(o==0)o=b.attr("height");
c>f.width()&&f.width(c);o>f.height()&&f.height(o);h!=""&&h.css("display","none");b.css("display","none");g.totalSlides++});if(e.startSlide>0){if(e.startSlide>=g.totalSlides)e.startSlide=g.totalSlides-1;g.currentSlide=e.startSlide}g.currentImage=a(k[g.currentSlide]).is("img")?a(k[g.currentSlide]):a(k[g.currentSlide]).find("img:first");a(k[g.currentSlide]).is("a")&&a(k[g.currentSlide]).css("display","block");f.css("background",'url("'+g.currentImage.attr("src")+'") no-repeat');for(var i=0;i<e.slices;i++){var p=
Math.round(f.width()/e.slices);i==e.slices-1?f.append(a('<div class="nivo-slice"></div>').css({left:p*i+"px",width:f.width()-p*i+"px"})):f.append(a('<div class="nivo-slice"></div>').css({left:p*i+"px",width:p+"px"}))}f.append(a('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:e.captionOpacity}));if(g.currentImage.attr("title")!=""){i=g.currentImage.attr("title");if(i.substr(0,1)=="#")i=a(i).html();a(".nivo-caption p",f).html(i);a(".nivo-caption",f).fadeIn(e.animSpeed)}var l=
0;if(!e.manualAdvance&&k.length>1)l=setInterval(function(){r(f,k,e,false)},e.pauseTime);if(e.directionNav){f.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>');if(e.directionNavHide){a(".nivo-directionNav",f).hide();f.hover(function(){a(".nivo-directionNav",f).show()},function(){a(".nivo-directionNav",f).hide()})}a("a.nivo-prevNav",f).live("click",function(){if(g.running)return false;clearInterval(l);l="";g.currentSlide-=2;r(f,k,e,"prev")});
a("a.nivo-nextNav",f).live("click",function(){if(g.running)return false;clearInterval(l);l="";r(f,k,e,"next")})}if(e.controlNav){p=a('<div class="nivo-controlNav"></div>');i=a("#"+e.controlPlaceAreaID);g.controlArea=i||f;g.controlArea.append(p);for(i=0;i<k.length;i++)if(e.controlNavThumbs){var t=k.eq(i);t.is("img")||(t=t.find("img:first"));e.controlNavThumbsFromRel?p.append('<a class="nivo-control" rel="'+i+'"><img src="'+t.attr("rel")+'" alt="" /></a>'):p.append('<a class="nivo-control" rel="'+i+
'"><img src="'+t.attr("src").replace(e.controlNavThumbsSearch,e.controlNavThumbsReplace)+'" alt="" /></a>')}else p.append('<a class="nivo-control" rel="'+i+'">'+(i+1)+"</a>");a(".nivo-controlNav a:eq("+g.currentSlide+")",g.controlArea).addClass("active");a(".nivo-controlNav a",g.controlArea).live("click",function(){if(g.running)return false;if(a(this).hasClass("active"))return false;clearInterval(l);l="";f.css("background",'url("'+g.currentImage.attr("src")+'") no-repeat');g.currentSlide=a(this).attr("rel")-
1;r(f,k,e,"control")})}e.keyboardNav&&a(window).keypress(function(b){if(b.keyCode=="37"){if(g.running)return false;clearInterval(l);l="";g.currentSlide-=2;r(f,k,e,"prev")}if(b.keyCode=="39"){if(g.running)return false;clearInterval(l);l="";r(f,k,e,"next")}});e.pauseOnHover&&f.hover(function(){g.paused=true;clearInterval(l);l=""},function(){g.paused=false;if(l==""&&!e.manualAdvance)l=setInterval(function(){r(f,k,e,false)},e.pauseTime)});f.bind("nivo:animFinished",function(){g.running=false;a(k).each(function(){a(this).is("a")&&
a(this).css("display","none")});a(k[g.currentSlide]).is("a")&&a(k[g.currentSlide]).css("display","block");if(l==""&&!g.paused&&!e.manualAdvance)l=setInterval(function(){r(f,k,e,false)},e.pauseTime);e.afterChange.call(this)});var w=function(b,h){var c=0;a(".nivo-slice",b).each(function(){var o=a(this),d=Math.round(b.width()/h.slices);c==h.slices-1?o.css("width",b.width()-d*c+"px"):o.css("width",d+"px");c++})},r=function(b,h,c,o){var d=b.data("nivo:vars");d&&d.currentSlide==d.totalSlides-1&&c.lastSlide.call(this);
if((!d||d.stop)&&!o)return false;c.beforeChange.call(this);if(o){o=="prev"&&b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');o=="next"&&b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat')}else b.css("background",'url("'+d.currentImage.attr("src")+'") no-repeat');d.currentSlide++;if(d.currentSlide==d.totalSlides){d.currentSlide=0;c.slideshowEnd.call(this)}if(d.currentSlide<0)d.currentSlide=d.totalSlides-1;d.currentImage=a(h[d.currentSlide]).is("img")?a(h[d.currentSlide]):
a(h[d.currentSlide]).find("img:first");if(c.controlNav){a(".nivo-controlNav a",d.controlArea).removeClass("active");a(".nivo-controlNav a:eq("+d.currentSlide+")",d.controlArea).addClass("active")}if(d.currentImage.attr("title")!=""){var u=d.currentImage.attr("title");if(u.substr(0,1)=="#")u=a(u).html();a(".nivo-caption",b).css("display")=="block"?a(".nivo-caption p",b).fadeOut(c.animSpeed,function(){a(this).html(u);a(this).fadeIn(c.animSpeed)}):a(".nivo-caption p",b).html(u);a(".nivo-caption",b).fadeIn(c.animSpeed)}else a(".nivo-caption",
b).fadeOut(c.animSpeed);var m=0;a(".nivo-slice",b).each(function(){var j=Math.round(b.width()/c.slices);a(this).css({height:"0px",opacity:"0",background:'url("'+d.currentImage.attr("src")+'") no-repeat -'+(j+m*j-j)+"px 0%"});m++});if(c.effect=="random"){h=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","slideInRight","slideInLeft"];d.randAnim=h[Math.floor(Math.random()*(h.length+1))];if(d.randAnim==undefined)d.randAnim="fade"}if(c.effect.indexOf(",")!=
-1){h=c.effect.split(",");d.randAnim=h[Math.floor(Math.random()*h.length)];if(d.randAnim==undefined)d.randAnim="fade"}d.running=true;if(c.effect=="sliceDown"||c.effect=="sliceDownRight"||d.randAnim=="sliceDownRight"||c.effect=="sliceDownLeft"||d.randAnim=="sliceDownLeft"){var n=0;m=0;w(b,c);h=a(".nivo-slice",b);if(c.effect=="sliceDownLeft"||d.randAnim=="sliceDownLeft")h=a(".nivo-slice",b)._reverse();h.each(function(){var j=a(this);j.css({top:"0px"});m==c.slices-1?setTimeout(function(){j.animate({height:"100%",
opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+n):setTimeout(function(){j.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+n);n+=50;m++})}else if(c.effect=="sliceUp"||c.effect=="sliceUpRight"||d.randAnim=="sliceUpRight"||c.effect=="sliceUpLeft"||d.randAnim=="sliceUpLeft"){m=n=0;w(b,c);h=a(".nivo-slice",b);if(c.effect=="sliceUpLeft"||d.randAnim=="sliceUpLeft")h=a(".nivo-slice",b)._reverse();h.each(function(){var j=a(this);j.css({bottom:"0px"});m==c.slices-1?setTimeout(function(){j.animate({height:"100%",
opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+n):setTimeout(function(){j.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+n);n+=50;m++})}else if(c.effect=="sliceUpDown"||c.effect=="sliceUpDownRight"||d.randAnim=="sliceUpDown"||c.effect=="sliceUpDownLeft"||d.randAnim=="sliceUpDownLeft"){var x=m=n=0;w(b,c);h=a(".nivo-slice",b);if(c.effect=="sliceUpDownLeft"||d.randAnim=="sliceUpDownLeft")h=a(".nivo-slice",b)._reverse();h.each(function(){var j=a(this);if(m==0){j.css("top",
"0px");m++}else{j.css("bottom","0px");m=0}x==c.slices-1?setTimeout(function(){j.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+n):setTimeout(function(){j.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+n);n+=50;x++})}else if(c.effect=="fold"||d.randAnim=="fold"){m=n=0;w(b,c);a(".nivo-slice",b).each(function(){var j=a(this),y=j.width();j.css({top:"0px",height:"100%",width:"0px"});m==c.slices-1?setTimeout(function(){j.animate({width:y,opacity:"1.0"},
c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+n):setTimeout(function(){j.animate({width:y,opacity:"1.0"},c.animSpeed)},100+n);n+=50;m++})}else if(c.effect=="fade"||d.randAnim=="fade"){var q=a(".nivo-slice:first",b);q.css({height:"100%",width:b.width()+"px"});q.animate({opacity:"1.0"},c.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(c.effect=="slideInRight"||d.randAnim=="slideInRight"){q=a(".nivo-slice:first",b);q.css({height:"100%",width:"0px",opacity:"1"});q.animate({width:b.width()+
"px"},c.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(c.effect=="slideInLeft"||d.randAnim=="slideInLeft"){q=a(".nivo-slice:first",b);q.css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"});q.animate({width:b.width()+"px"},c.animSpeed*2,"",function(){q.css({left:"0px",right:""});b.trigger("nivo:animFinished")})}},z=function(b){this.console&&typeof console.log!="undefined"&&console.log(b)};this.stop=function(){if(!a(s).data("nivo:vars").stop){a(s).data("nivo:vars").stop=
true;z("Stop Slider")}};this.start=function(){if(a(s).data("nivo:vars").stop){a(s).data("nivo:vars").stop=false;z("Start Slider")}};e.afterLoad.call(this)};a.fn.nivoSlider=function(s){return this.each(function(){var v=a(this);if(!v.data("nivoslider")){var e=new A(this,s);v.data("nivoslider",e)}})};a.fn.nivoSlider.defaults={effect:"random",slices:15,animSpeed:500,pauseTime:3E3,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,
controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",controlPlaceAreaID:"nivo-controlNav-area",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:0.8,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};a.fn._reverse=[].reverse})(jQuery);