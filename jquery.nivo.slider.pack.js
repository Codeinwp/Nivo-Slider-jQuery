/**
* jQuery Nivo Slider v2.7.1
* http://nivo.dev7studios.com
*
* Copyright 2011, Gilbert Pellegrom
* Free to use and abuse under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
*
* January 2012
*/
(function(e){var o=null;function s(){return function(){}}function z(v,t){function w(a){for(var b,d,e=a.length;e;b=parseInt(Math.random()*e),d=a[--e],a[e]=a[b],a[b]=d);return a}function p(c){var g=a.a.data("nivo:vars");if(g&&!g.stop||c){a.a.css("background",'url("'+g.d.url+'") no-repeat');++g.b;if(g.b>=g.e)g.g=g.e-1,g.b=0;else if(g.b===0)g.g=g.e-1;else if(g.b<0)g.b=g.e-1,g.g=g.e-2;a.O=a.c;a.c=e(a.j[g.b]);a.c=a.c.is("img")?a.c:a.c.find("img").eq(0);g.N={url:a.O.attr("src")};g.d={url:a.c.attr("src"),title:a.c.attr("title"),A:a.c.data("transition")};
b.v&&a.z.removeClass("active").eq(g.b).addClass("active");x();e(".nivo-slice",a.a).remove();e(".nivo-box",a.a).remove();var d=b.o||"fade";b.o==="random"?(d=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","cycle","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"],d=d[Math.floor(Math.random()*(d.length-1))]):b.o.indexOf(",")!==-1&&(d=b.o.split(","),d=d[Math.floor(Math.random()*d.length)]);if(g.d.A)d=g.d.A;g.m=!0;var f=
function(c,d,e,f,g){setTimeout(function(){c.animate(d,e||b.f,"",g&&function(){a.a.trigger("nivo:animFinished")})},100+f)};switch(d){case "sliceDown":case "sliceDownRight":case "sliceDownLeft":r();var c=0,k=e(".nivo-slice",a.a),j=0,h;d==="sliceDownLeft"&&(k=k.n());do h=e(k[j]),h.css({top:"0"}),f(h,{height:"100%",opacity:1},o,c,j===b.h-1?!0:!1),c+=50;while(++j<b.h);break;case "sliceUp":case "sliceUpRight":case "sliceUpLeft":r();c=0;k=e(".nivo-slice",a.a);j=0;d==="sliceUpLeft"&&(k=k.n());do h=e(k[j]),
h.css({bottom:"0"}),f(h,{height:"100%",opacity:1},o,c,j===b.h-1?!0:!1),c+=50;while(++j<b.h);break;case "sliceUpDown":case "sliceUpDownRight":case "sliceUpDownLeft":r();var l=c=0,k=e(".nivo-slice",a.a),j=0;d==="sliceUpDownLeft"&&(k=k.n());do h=e(k[j]),l?h.css("top","0"):h.css("bottom","0"),l=!l,f(h,{height:"100%",opacity:1},o,c,j===b.h-1?!0:!1),c+=50;while(++j<b.h);break;case "fold":r();c=0;k=e(".nivo-slice",a.a);d=j=0;do h=e(k[j]),d=h.width(),h.css({top:"0",height:"100%",width:"0"}),f(h,{width:d+
"px",opacity:1},o,c,j===b.h-1?!0:!1),c+=50;while(++j<b.h);break;default:case "fade":r(1);h=e(".nivo-slice",a.a);h.css({width:a.a.width()+"px",height:"100%"}).animate({opacity:1},b.f*2,"",function(){a.a.trigger("nivo:animFinished")});break;case "cycle":case "cycleLeft":case "cycleRight":r(1);f=a.a.width();h=e(".nivo-slice",a.a);d=d==="cycleLeft"||d==="cycle"&&(c==="prev"||c==="control"&&g.b<g.g)?!0:!1;j=document.createDocumentFragment();c={position:"absolute",right:d?"0":f+"px",background:'url("'+
g.N.url+'")',width:f+"px",height:"100%"};k={position:"absolute",right:d?f+"px":"0",backgroundImage:'url("'+g.d.url+'")',width:f+"px",height:"100%"};j.appendChild(e("<div></div>").css(c)[0]);j.appendChild(e("<div></div>").css(k)[0]);h.html(j);c={left:d?-f+"px":"0",width:f*2+"px",height:"100%",opacity:1};h.css(c).animate({left:d?"0":-f+"px"},b.f*2,"",function(){a.a.trigger("nivo:animFinished")});break;case "slideInHorizontal":case "slideInLeft":case "slideInRight":r(1);h=e(".nivo-slice",a.a);d=d===
"slideInLeft"||d==="slideInHorizontal"&&(c==="prev"||c==="control"&&g.b<g.g)?!0:!1;c={left:d?"0":"",right:d?"":"0",backgroundPosition:d?"100% 0":"0 0",width:"0",height:"100%",opacity:1};h.css(c).animate({width:"100%"},b.f*2,"",function(){a.a.trigger("nivo:animFinished")});break;case "slideInVertical":case "slideInTop":case "slideInBottom":r(1);h=e(".nivo-slice",a.a);d=d==="slideInTop"||d==="slideInVertical"&&(c==="prev"||c==="control"&&g.b>g.g)?!0:!1;c={top:d?"0":"",bottom:d?"":"0",backgroundPosition:d?
"0 100%":"0 0",width:"100%",height:"0",opacity:1};h.css(c).animate({height:"100%"},b.f*2,"",function(){a.a.trigger("nivo:animFinished")});break;case "boxRandom":y();h=b.i*b.l;var c=0,i=w(e(".nivo-box",a.a)),m=0;do l=e(i[m]),f(l,{opacity:1},o,c,m===h-1?!0:!1),c+=20;while(++m<h);break;case "boxRain":case "boxRainReverse":case "boxRainGrow":case "boxRainGrowReverse":y();h=b.i*b.l;var c=0,k=[],n=l=0,i=e(".nivo-box",a.a),m=0,j=h;if(d=="boxRainReverse"||d=="boxRainGrowReverse")i=i.n();k[l]=[];do k[l][n]=
i[m],++n,++m,n===b.i&&(++l,k[l]=[],n=0);while(--j);var p=j=n=m=i=0,q=0;do{n=i;do n>=0&&n<b.i&&(l=e(k[m][n]),p=l.width(),q=l.height(),(d=="boxRainGrow"||d=="boxRainGrowReverse")&&l.width(0).height(0),f(l,{width:p,height:q,opacity:1},b.f/1.3,c,++j===h?!0:!1)),--n;while(++m<b.l);m=0;c+=100}while(++i<b.i*2)}g.g=g.b}}function y(){var c=a.a.width(),g=Math.round(c/b.i),d=Math.round(a.a.height()/b.l),i=document.createDocumentFragment(),k=0,j=0,h=0,l={background:'url("'+f.d.url+'") no-repeat',backgroundPosition:"",
left:"",top:"",width:"",height:d+"px",opacity:0};do{l.top=d*j+"px";l.width=g+"px";do{k=g*h;l.left=k+"px";l.backgroundPosition="-"+(g+k-g)+"px -"+(d+j*d-d)+"px";if(h===b.i-1)l.width=c-k+"px";i.appendChild(e('<div class="nivo-box"></div>').css(l)[0])}while(++h<b.i);h=0}while(++j<b.l);a.a.append(i)}function r(c){var g=f.d.url,d=a.a.width(),i=0,c=c||b.h,k=document.createDocumentFragment(),j,h,l={background:"",left:"",width:"",height:"0",opacity:0};do{j=Math.round(d/c);h=j*i;l.left=h+"px";l.background=
'url("'+g+'") no-repeat -'+(j+h-j)+"px 0%";l.width=j+"px";if(i===c-1)l.width=d-h+"px";k.appendChild(e('<div class="nivo-slice"></div>').css(l)[0])}while(++i<c);a.a.append(k)}function x(){var c=f.d.title||o;c&&(c.substr(0,1)=="#"&&(c=e(c).html()),a.p.css("opacity")!=0?a.t.stop().fadeTo(b.f,0,function(){a.t.html(c).stop().fadeTo(b.f,1)}):a.t.html(c));a.p.stop().fadeTo(b.f,c?b.u:0)}var b=e.extend({},e.fn.nivoSlider.G,t),f={g:0,b:0,d:{},e:0,m:!1,paused:!1,stop:!1},a={};a.a=e(v);a.a.data("nivo:vars",f);a.a.css("position",
"relative");a.a.addClass("nivoSlider");a.j=a.a.children();for(var i,q=a.j.length,n=0,u=0;--q+1;)i=e(a.j[q]),i.is("img")||(i.is("a")&&i.addClass("nivo-imageLink"),i=i.find("img").eq(0)),n=i.width(),u=i.height(),n===0&&(n=i.attr("width")),u===0&&(u=i.attr("height")),n>a.a.width()&&a.a.width(n),u>a.a.height()&&a.a.height(u),i.css("display","none"),++f.e;if(b.P)b.k=Math.floor(Math.random()*f.e);if(b.k>0){if(b.k>=f.e)b.k=f.e-1;f.g=b.k-1;f.b=b.k}a.c=e(a.j[f.b]);a.c.is("img")?f.d={url:a.c.attr("src"),title:a.c.attr("title")}:
(f.d=a.c.find("img").eq(0),f.d={url:f.d.attr("src"),title:f.d.attr("title")});a.c.is("a")&&a.c.css("display","block");a.a.css("background",'url("'+f.d.url+'") no-repeat').append(e('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:b.u}));a.p=e(".nivo-caption",a.a);a.t=a.p.find("p");a.p.css("opacity",0);x();if(f.e<2)return!1;var m=o;b.r||(m=setInterval(function(){p(!1)},b.s));if(b.H)a.a.append('<div class="nivo-directionNav"><a class="nivo-prevNav" data-dir="prev">'+b.M+'</a><a class="nivo-nextNav" data-dir="next">'+
b.K+"</a></div>"),a.q=e(".nivo-directionNav",a.a),b.I&&(a.q.hide(),a.a.hover(function(){a.q.show()},function(){a.q.hide()})),a.q.children().click(function(){var a=e(this).data("dir")||"next";if(f.m)return!1;clearInterval(m);m=o;a==="prev"&&(f.g-=1,f.b-=2);p(a)});if(b.v){i=q="";for(n=a.j.length;--n+1;)b.B?(i=e(a.j[n]),i.is("img")||(i=i.find("img").eq(0)),i=b.C?'<img src="'+i.attr("rel")+'" alt="" />':'<img src="'+i.attr("src").replace(b.F,b.D)+'" alt="" />'):i=n+1,q='<a class="nivo-control" data-slide="'+
n+'">'+i+"</a>"+q;a.a.append('<div class="nivo-controlNav">'+q+"</div>");a.Q=e(".nivo-controlNav",a.a);a.z=a.Q.find("a");a.z.click(function(){var c=e(this);if(f.m||c.hasClass("active"))return!1;clearInterval(m);m=o;a.a.css("background",'url("'+f.d.url+'") no-repeat');f.b=c.data("slide")-1;p("control")}).eq(f.b).addClass("active")}b.J&&e(document).keydown(function(a){a=a.keyCode||a.which;if(f.m)return!1;clearInterval(m);m=o;a===37||a===63234?(f.b-=2,p("prev")):(a===39||a===63235)&&p("next")});b.L&&
a.a.hover(function(){f.paused=!0;clearInterval(m);m=o},function(){f.paused=!1;m===o&&!b.r&&(m=setInterval(function(){p(!1)},b.s))});a.a.bind("nivo:animFinished",function(){f.m=!1;for(var c,g=a.j.length;--g+1;)c=e(a.j[g]),c.is("a")&&c.css("display","none");a.c.is("a")&&a.c.css("display","block");m===o&&!f.paused&&!b.r&&(m=setInterval(function(){p(!1)},b.s))});this.stop=function(){if(!a.a.data("nivo:vars").stop)a.a.data("nivo:vars").stop=!0};this.start=function(){if(a.a.data("nivo:vars").stop)a.a.data("nivo:vars").stop=
!1};return this}e.fn.nivoSlider=function(v){return this.each(function(){var t=e(this);if(t.data("nivoslider"))return t.data("nivoslider");var w=new z(this,v);t.data("nivoslider",w)})};e.fn.nivoSlider.G={o:"random",h:15,i:8,l:4,f:500,s:3E3,k:0,H:!0,I:!0,v:!0,B:!1,C:!1,F:".jpg",D:"_thumb.jpg",J:!0,L:!0,r:!1,u:0.8,M:"Prev",K:"Next",P:!1,T:s(),R:s(),V:s(),U:s(),S:s()};e.fn.n=[].reverse})(jQuery);