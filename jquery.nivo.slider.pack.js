/*
 * jQuery Nivo Slider v2.7.1
 * http://nivo.dev7studios.com
 *
 * Copyright 2011, Gilbert Pellegrom
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * January 2012
 */
(function(b){var q=null;function s(){return function(){}}function A(o,t){function w(b){for(var d,e,g=b.length;g;d=parseInt(Math.random()*g),e=b[--g],b[g]=b[d],b[d]=e);return b}function n(k,d,e,g){var a=k.data("nivo:vars");if(a&&!a.stop||g){g?(g=="prev"&&k.css("background",'url("'+a.b.attr("src")+'") no-repeat'),g=="next"&&k.css("background",'url("'+a.b.attr("src")+'") no-repeat')):k.css("background",'url("'+a.b.attr("src")+'") no-repeat');a.a++;if(a.a==a.g)a.a=0;if(a.a<0)a.a=a.g-1;d=b(d[a.a]);a.b=d.is("img")?d:d.find("img").eq(0);e.o&&b(".nivo-controlNav a",
k).removeClass("active").eq(a.a).addClass("active");y(e);b(".nivo-slice",k).remove();b(".nivo-box",k).remove();g=e.k;e.k==="random"&&(d=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"],g=d[Math.floor(Math.random()*(d.length-1))],g===void 0&&(g="fade"));e.k.indexOf(",")!==-1&&(d=e.k.split(","),g=d[Math.floor(Math.random()*d.length)],g==void 0&&(g="fade"));a.b.attr("data-transition")&&
(g=a.b.attr("data-transition"));a.f=!0;a=function(a,b,c,d,f){setTimeout(function(){a.animate(b,!c?e.d:c,"",f?function(){k.trigger("nivo:animFinished")}:q)},100+d)};switch(g){case "sliceDown":case "sliceDownRight":case "sliceDownLeft":r();var d=0,c=b(".nivo-slice",k),l=0;g==="sliceDownLeft"&&(c=c.j());do g=b(c[l]),g.css({top:"0px"}),a(g,{height:"100%",opacity:1},q,d,l===e.c-1?!0:!1),d+=50;while(++l<e.c);break;case "sliceUp":case "sliceUpRight":case "sliceUpLeft":r();d=0;c=b(".nivo-slice",k);l=0;g===
"sliceUpLeft"&&(c=c.j());do g=b(c[l]),g.css({bottom:"0px"}),a(g,{height:"100%",opacity:1},q,d,l===e.c-1?!0:!1),d+=50;while(++l<e.c);break;case "sliceUpDown":case "sliceUpDownRight":case "sliceUpDownLeft":r();var f=d=0,c=b(".nivo-slice",k),l=0;g==="sliceUpDownLeft"&&(c=c.j());do g=b(c[l]),f?g.css("top","0px"):g.css("bottom","0px"),f=!f,a(g,{height:"100%",opacity:1},q,d,l===e.c-1?!0:!1),d+=50;while(++l<e.c);break;case "fold":r();d=0;c=b(".nivo-slice",k);f=l=0;do g=b(c[l]),f=g.width(),g.css({top:"0px",
height:"100%",width:"0px"}),a(g,{width:f+"px",opacity:1},q,d,l===e.c-1?!0:!1),d+=50;while(++l<e.c);break;case "fade":r();var h=b(".nivo-slice",k).eq(0);h.css({height:"100%",width:k.width()+"px"}).animate({opacity:1},e.d*2,"",function(){k.trigger("nivo:animFinished")});break;case "slideInRight":r();h=b(".nivo-slice",k).eq(0);h.css({height:"100%",width:"0px",opacity:1}).animate({width:k.width()+"px"},e.d*2,"",function(){k.trigger("nivo:animFinished")});break;case "slideInLeft":r();h=b(".nivo-slice",
k).eq(0);h.css({height:"100%",width:"0px",opacity:1,left:"",right:"0px"}).animate({width:k.width()+"px"},e.d*2,"",function(){h.css({left:"0px",right:""});k.trigger("nivo:animFinished")});break;case "boxRandom":z();var c=e.e*e.h,d=0,i=w(b(".nivo-box",k)),j=0;do f=b(i[j]),a(f,{opacity:1},q,d,j===c-1?!0:!1),d+=20;while(++j<c);break;case "boxRain":case "boxRainReverse":case "boxRainGrow":case "boxRainGrowReverse":z();var c=e.e*e.h,d=0,l=[],m=f=0,i=b(".nivo-box",k),j=0;if(g=="boxRainReverse"||g=="boxRainGrowReverse")i=
i.j();l[f]=[];do l[f][m]=i[j],++m,m===e.e&&(++f,l[f]=[],m=0);while(++j<c);var n=m=j=i=0,o=0,p=0;do{m=i;do++n,m>=0&&m<e.e&&(f=b(l[j][m]),o=f.width(),p=f.height(),(g=="boxRainGrow"||g=="boxRainGrowReverse")&&f.width(0).height(0),a(f,{width:o,height:p,opacity:1},e.d/1.3,d,n===c?!0:!1)),--m;while(++j<e.h);j=0;d+=100}while(++i<e.e*2)}}}function z(){var k=c.width(),d=Math.round(k/a.e),e=Math.round(c.height()/a.h),g=document.createDocumentFragment(),h=0,j=0,l=0,i={background:'url("'+f.b.attr("src")+'") no-repeat',
backgroundPosition:"",left:"",top:"",width:"",height:e+"px",opacity:0};do{i.top=e*j+"px";i.width=d+"px";do{h=d*l;i.left=d*l+"px";i.backgroundPosition="-"+(d+h-d)+"px -"+(e+j*e-e)+"px";if(l===a.e-1)i.width=k-h+"px";g.appendChild(b('<div class="nivo-box"></div>').css(i)[0])}while(++l<a.e);l=0}while(++j<a.h);c.append(g)}function r(){var k=f.b.attr("src"),d=c.width(),e=0,g=document.createDocumentFragment(),i,h,j={background:"",left:"",width:"",height:"0px",opacity:0};do{i=Math.round(d/a.c);h=i*e;j.left=
h+"px";j.background='url("'+k+'") no-repeat -'+(i+h-i)+"px 0%";j.width=i+"px";if(e==a.c-1)j.width=d-h+"px";g.appendChild(b('<div class="nivo-slice"></div>').css(j)[0])}while(++e<a.c);c.append(g)}function y(a){var d=b(".nivo-caption",c),e=f.b.attr("title")?f.b.attr("title"):"";e?(e.substr(0,1)=="#"&&(e=b(e).html()),d.css("opacity")!=0?d.find("p").stop().fadeTo(a.d,0,function(){b(this).html(e).stop().fadeTo(a.d,1)}):d.find("p").html(e),d.stop().fadeTo(a.d,a.n)):d.stop().fadeTo(a.d,0)}var a=b.extend({},
b.fn.nivoSlider.u,t),f={a:0,b:"",g:0,f:!1,paused:!1,stop:!1},c=b(o);c.data("nivo:vars",f);c.css("position","relative");c.addClass("nivoSlider");var i=c.children(),m=i.length,p=0,h,u=0,v=0,x="";do h=b(i[p]),h.is("img")||(h.is("a")&&(h.addClass("nivo-imageLink"),x=h),h=h.find("img").eq(0)),u=h.width(),v=h.height(),u===0&&(u=h.attr("width")),v===0&&(v=h.attr("height")),u>c.width()&&c.width(u),v>c.height()&&c.height(v),x!=""&&x.css("display","none"),h.css("display","none"),++f.g;while(++p<m);if(a.D)a.i=Math.floor(Math.random()*
f.g);if(a.i>0){if(a.i>=f.g)a.i=f.g-1;f.a=a.i}m=b(i[f.a]);f.b=m.is("img")?m:m.find("img").eq(0);m.is("a")&&m.css("display","block");c.css("background",'url("'+f.b.attr("src")+'") no-repeat');c.append(b('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:a.n}));b(".nivo-caption",c).css("opacity",0);y(a);var j=0;!a.l&&i.length>1&&(j=setInterval(function(){n(c,i,a,!1)},a.m));a.v&&(c.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+a.C+'</a><a class="nivo-nextNav">'+
a.A+"</a></div>"),a.w&&(b(".nivo-directionNav",c).hide(),c.hover(function(){b(".nivo-directionNav",c).show()},function(){b(".nivo-directionNav",c).hide()})),b("a.nivo-prevNav",c).live("click",function(){if(f.f)return!1;clearInterval(j);j="";f.a-=2;n(c,i,a,"prev")}),b("a.nivo-nextNav",c).live("click",function(){if(f.f)return!1;clearInterval(j);j="";n(c,i,a,"next")}));if(a.o){m=b('<div class="nivo-controlNav"></div>');h="";p=0;c.append(m);do a.q?(h=i.eq(p),h.is("img")||(h=h.find("img").eq(0)),h=a.r?
'<img src="'+h.attr("rel")+'" alt="" />':'<img src="'+h.attr("src").replace(a.t,a.s)+'" alt="" />'):h=p+1,m.append('<a class="nivo-control" rel="'+p+'">'+h+"</a>");while(++p<i.length);b(".nivo-controlNav a",c).eq(f.a).addClass("active");b(".nivo-controlNav a",c).live("click",function(){var h=b(this);if(f.f||h.hasClass("active"))return!1;clearInterval(j);j="";c.css("background",'url("'+f.b.attr("src")+'") no-repeat');f.a=h.attr("rel")-1;n(c,i,a,"control")})}a.z&&b(window).keypress(function(b){if(b.keyCode==
"37"){if(f.f)return!1;clearInterval(j);j="";f.a-=2;n(c,i,a,"prev")}if(b.keyCode=="39"){if(f.f)return!1;clearInterval(j);j="";n(c,i,a,"next")}});a.B&&c.hover(function(){f.paused=!0;clearInterval(j);j=q},function(){f.paused=!1;j===q&&!a.l&&(j=setInterval(function(){n(c,i,a,!1)},a.m))});c.bind("nivo:animFinished",function(){f.f=!1;for(var h,d=i.length,e=b(i[f.a]);--d+1;)h=b(i[d]),h.is("a")&&h.css("display","none");e.is("a")&&e.css("display","block");j==""&&!f.paused&&!a.l&&(j=setInterval(function(){n(c,
i,a,!1)},a.m))});this.stop=function(){if(!b(o).data("nivo:vars").stop)b(o).data("nivo:vars").stop=!0};this.start=function(){if(b(o).data("nivo:vars").stop)b(o).data("nivo:vars").stop=!1};return this}b.fn.nivoSlider=function(o){return this.each(function(){var t=b(this);if(t.data("nivoslider"))return t.data("nivoslider");var w=new A(this,o);t.data("nivoslider",w)})};b.fn.nivoSlider.u={k:"random",c:15,e:8,h:4,d:500,m:3E3,i:0,v:!0,w:!0,o:!0,q:!1,r:!1,t:".jpg",s:"_thumb.jpg",z:!0,B:!0,l:!1,n:0.7,C:"Prev",A:"Next",D:!1,
H:s(),F:s(),J:s(),I:s(),G:s()};b.fn.j=[].reverse})(jQuery);