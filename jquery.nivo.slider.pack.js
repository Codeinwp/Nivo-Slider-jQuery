(function(a){var b=function(b,c){var d=a.extend({},a.fn.nivoSlider.defaults,c);var e={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false};var f=a(b);f.data("nivo:vars",e).addClass("nivoSlider");var g=f.children();g.each(function(){var b=a(this),c="";if(!b.is("img")){if(b.is("a")){b.addClass("nivo-imageLink");c=b}b=b.find("img:first")}if(c!==""){c.css("display","none")}b.css("display","none");e.totalSlides++});if(d.randomStart){d.startSlide=Math.floor(Math.random()*e.totalSlides)}if(d.startSlide>0){if(d.startSlide>=e.totalSlides){d.startSlide=e.totalSlides-1}e.currentSlide=d.startSlide}if(a(g[e.currentSlide]).is("img")){e.currentImage=a(g[e.currentSlide])}else{e.currentImage=a(g[e.currentSlide]).find("img:first")}if(a(g[e.currentSlide]).is("a")){a(g[e.currentSlide]).css("display","block")}var h=a('<img class="nivo-main-image" src="#" />');h.attr("src",e.currentImage.attr("src")).show();f.append(a('<div style="background:'+d.backgroundColor+'; height: 100%;"/>').append(h));a(window).resize(function(){f.children("img").width(f.width());h.attr("src",e.currentImage.attr("src"));h.stop().height("auto");a(".nivo-slice",f).hide();a(".nivo-box",f).hide()});f.append(a('<div class="nivo-caption"><div class="nivo-caption-bg" style="opacity:'+d.captionOpacity+'"></div><p class="nivo-caption-content"></p></div>').css({display:"none"}));a("div.nivo-caption-bg",f).css("opacity",0);f.mouseenter(function(){f.addClass("hover")}).mouseleave(function(){f.removeClass("hover")});var i=function(b){var c=a("div.nivo-caption",f);if(e.currentImage.attr("title")!=""&&e.currentImage.attr("title")!=undefined){var d=e.currentImage.attr("title"),g={},h=36,i=80,j=50;c.height(function(){return f.is(".hover")?i:h}).data("minHeight",h).data("maxHeight",i).find("p").html("").end();c.find("div.nivo-caption-bg").height(i);if(d.substr(0,1)=="#"){g=a('<div id="tmpTitleWrap"></div>').append(a(d).html());if(!g.find(".captionHeadline")[0]){g.find(".captionText").attr("style","padding-top: 10px");c.height(j).data("minHeight",j).data("maxHeight",j)}d=g.html()}if(c.find("div.nivo-caption-bg").css("opacity")!=0){c.find("p").stop().fadeTo(b.animSpeed,0,function(){a(this).html(d);a(this).stop().fadeTo(b.animSpeed,1)})}else{c.find("p").html(d)}c.find(".nivo-caption-bg").stop().fadeTo(b.animSpeed,b.captionOpacity).end().show()}else{c.hide().find(".nivo-caption-bg").stop().fadeTo(b.animSpeed,0).end()}};i(d);var j=0;if(!d.manualAdvance&&g.length>1){j=setInterval(function(){r(f,g,d,false)},d.pauseTime)}if(d.directionNav){f.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+d.prevText+'</a><a class="nivo-nextNav">'+d.nextText+"</a></div>");if(d.directionNavHide){a(".nivo-directionNav",f).hide();f.hover(function(){a(".nivo-directionNav",f).show()},function(){a(".nivo-directionNav",f).hide()})}a("a.nivo-prevNav",f).live("click",function(){if(e.running){return false}clearInterval(j);j="";e.currentSlide-=2;r(f,g,d,"prev")});a("a.nivo-nextNav",f).live("click",function(){if(e.running){return false}clearInterval(j);j="";r(f,g,d,"next")})}if(d.controlNav){var k="";e.controlNavEl=a('<div class="nivo-controlNav"></div>');f.after(e.controlNavEl);for(var l=0;l<g.length;l++){if(d.controlNavThumbs){e.controlNavEl.addClass("nivo-thumbs-enabled");var m=g.eq(l);if(!m.is("img")){m=m.find("img:first")}if(m.attr("data-thumb"))k+='<a class="nivo-control" rel="'+l+'"><img src="'+m.attr("data-thumb")+'" alt="" /></a>'}else{k+='<a class="nivo-control" rel="'+l+'"><span class="nivo-nav-num">'+(l+1)+"</span></a>"}}e.controlNavEl.append(k);a("a:eq("+e.currentSlide+")",e.controlNavEl).addClass("active");a("a",e.controlNavEl).bind("click",function(){if(e.running)return false;if(a(this).hasClass("active"))return false;clearInterval(j);j="";h.attr("src",e.currentImage.attr("src"));e.currentSlide=a(this).attr("rel")-1;r(f,g,d,"control")})}if(d.pauseOnHover){f.hover(function(){e.paused=true;clearInterval(j);j=""},function(){e.paused=false;if(j===""&&!d.manualAdvance){j=setInterval(function(){r(f,g,d,false)},d.pauseTime)}})}f.bind("nivo:animFinished",function(){h.attr("src",e.currentImage.attr("src"));e.running=false;a(g).each(function(){if(a(this).is("a")){a(this).css("display","none")}});if(a(g[e.currentSlide]).is("a")){a(g[e.currentSlide]).css("display","block")}f.trigger("nivo:beforeSlideChange");if(j===""&&!e.paused&&!d.manualAdvance){j=setInterval(function(){r(f,g,d,false)},d.pauseTime)}d.afterChange.call(this)});var n=function(b,c,d){var e=0,f="";for(e=0;e<c.slices;e++){f+='<div class="nivo-slice" style="background-color: '+c.backgroundColor+';" name="'+e+'"><img src="'+d.currentImage.attr("src")+'" /></div>'}b.append(f);o(a("div.nivo-slice",b),d.currentImage)};var o=function(b,c){var e=a('img[src="'+c.attr("src")+'"]',f).not(".nivo-main-image,.nivo-control img"),g=e.parent().is("a")?e.parent().css("display","block"):{},h=Math.ceil(f.width()/d.slices),i=g[0]?e.parent().height():e.height(),j=0;b.each(function(){j=parseInt(a(this).attr("name"),10);a(this).css({opacity:0,top:"auto",bottom:"auto",right:"0",left:h*j+"px",width:h+"px",height:0}).find("img").attr("src",c.attr("src")).attr("width",f.width()).stop().css({width:f.width(),left:"-"+h*j+"px",top:0},d.animSpeed)})};n(f,d,f.data("nivo:vars"));var p=function(a,b,c){var d=0,e=0,f="";for(d=0;d<b.boxRows;d++){for(e=0;e<b.boxCols;e++){f+='<div class="nivo-box" name="'+e+'" rel="'+d+'" style="background-color: '+b.backgroundColor+';"><img src="'+c.currentImage.attr("src")+'" /></div>'}}a.append(f)};var q=function(b,c){var e=Math.ceil(f.width()/d.boxCols),g=Math.round(f.height()/d.boxRows),h=0,i=0;b.each(function(){h=a(this).attr("rel");i=a(this).attr("name");a(this).css({opacity:0,left:e*i+"px",top:g*h+"px",width:e+"px",height:g+"px"}).find("img").attr("src",c.attr("src")).attr("width",f.width()).stop().css({width:f.width()+"px",top:"-"+g*h+"px",left:"-"+e*i+"px",height:"auto"})})};p(f,d,f.data("nivo:vars"));var r=function(b,c,d,e){var f=b.data("nivo:vars"),g=a("div.nivo-slice",b),j=a("div.nivo-box",b);if(f&&f.currentSlide===f.totalSlides-1){d.lastSlide.call(this)}if((!f||f.stop)&&!e){return false}d.beforeChange.call(this);if(!e){h.attr("src",f.currentImage.attr("src"))}else{if(e==="prev"){h.attr("src",f.currentImage.attr("src"))}if(e==="next"){h.attr("src",f.currentImage.attr("src"))}}f.currentSlide++;if(f.currentSlide===f.totalSlides){f.currentSlide=0;d.slideshowEnd.call(this)}if(f.currentSlide<0){f.currentSlide=f.totalSlides-1}if(a(c[f.currentSlide]).is("img")){f.currentImage=a(c[f.currentSlide])}else{f.currentImage=a(c[f.currentSlide]).find("img:first")}if(d.controlNav){a("a",f.controlNavEl).removeClass("active");a("a:eq("+f.currentSlide+")",f.controlNavEl).addClass("active")}i(d);g.hide();j.hide();var k=d.effect,l="";if(d.effect==="random"){l=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDownRight","sliceUpDownLeft","foldLeft","foldRight","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");k=l[Math.floor(Math.random()*(l.length+1))];if(k===undefined){k="fade"}}if(d.effect.indexOf(",")!==-1){l=d.effect.split(",");k=l[Math.floor(Math.random()*l.length)];if(k===undefined){k="fade"}}if(f.currentImage.attr("data-transition")){k=f.currentImage.attr("data-transition")}switch(e){case"next":k=k.replace("Right","Left");if(k=="boxRain"||k=="boxRainGrow"){k+="Reverse"}break;case"prev":k=k.replace("Left","Right");k=k.replace("Reverse","");break;default:break}f.running=true;var m=0,n=0,p="",r="",t="",u="",v=0;if(k==="sliceDown"||k==="sliceDownRight"||k==="sliceDownLeft"){o(g,f.currentImage);m=0;n=0;p=g;if(k=="sliceDownLeft")p=g._reverse();p.each(function(){var c=a(this);c.css({top:"0px"});if(n==d.slices-1){setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+m,"JavaScript")}else{setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+m,"JavaScript")}m+=50;n++})}else if(k==="sliceUp"||k==="sliceUpRight"||k==="sliceUpLeft"){o(g,f.currentImage);m=0;n=0;p=g;if(k=="sliceUpLeft")p=g._reverse();p.each(function(){var c=a(this);c.css({bottom:"0px"});if(n==d.slices-1){setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+m,"JavaScript")}else{setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+m,"JavaScript")}m+=50;n++})}else if(k==="sliceUpDownRight"||k==="sliceUpDownRight"||k==="sliceUpDownLeft"){o(g,f.currentImage);m=0;n=0;v=0;p=g;if(k==="sliceUpDownLeft")p=g._reverse();p.each(function(){var c=a(this).height(0);if(n===0){c.css("top","0px");n=1}else{c.css("bottom","0px");n=0}if(v==d.slices-1){setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+m,"JavaScript")}else{setTimeout(function(){c.show().animate({height:"100%",opacity:"1.0"},d.animSpeed)},100+m,"JavaScript")}m+=50;v++})}else if(k==="foldLeft"||k==="foldRight"){o(g,f.currentImage);p=g;if(k==="foldLeft")p=g._reverse();p.each(function(){var c=a(this),e=this.style.width;c.css({top:"0px",height:"100%",width:"0px"});if(n==d.slices-1){setTimeout(function(){c.show().animate({width:e,opacity:"1.0"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+m,"JavaScript")}else{setTimeout(function(){c.show().animate({width:e,opacity:"1.0"},d.animSpeed)},100+m,"JavaScript")}m+=50;n++})}else if(k==="fade"){o(g,f.currentImage);r=a(g[0]);r.css({height:"100%",top:"0",width:b.width()+"px"});r.show().animate({opacity:"1.0"},d.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(k==="slideInRight"){o(g,f.currentImage);r=a(g[0]);r.css({height:"100%",top:"0px",width:"0px",opacity:"1"});r.show().animate({width:b.width()+"px"},d.animSpeed*2,"",function(){b.trigger("nivo:animFinished")})}else if(k==="slideInLeft"){o(g,f.currentImage);r=a(g[0]);r.css({height:"100%",top:"0px",width:"0px",opacity:"1",left:"",right:"0px"});r.show().animate({width:b.width()+"px"},d.animSpeed*2,"",function(){r.css({left:"0px",right:""});b.trigger("nivo:animFinished")})}else if(k==="boxRandom"){q(j,f.currentImage);t=d.boxCols*d.boxRows;n=0;m=0;var u=s(j);u.each(function(){var c=a(this);if(n==t-1){setTimeout(function(){c.show().animate({opacity:"1"},d.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+m,"JavaScript")}else{setTimeout(function(){c.show().animate({opacity:"1"},d.animSpeed)},100+m,"JavaScript")}m+=20;n++})}else if(k==="boxRain"||k==="boxRainReverse"||k==="boxRainGrow"||k==="boxRainGrowReverse"){t=d.boxCols*d.boxRows;n=0;m=0;var w=0,x=0,y=new Array,u=j,z=0,A=0,B=d.boxCols*2,C=0;y[w]=new Array;q(j,f.currentImage);if(k==="boxRainReverse"||k==="boxRainGrowReverse"){u=j._reverse()}u.each(function(){y[w][x]=a(this);x++;if(x==d.boxCols){w++;x=0;y[w]=new Array}});for(z=0;z<B;z++){C=z;for(A=0;A<d.boxRows;A++){if(C>=0&&C<d.boxCols){(function(c,e,f,g,h){var i=a(y[c][e]),j=i[0].style.width,l=i[0].style.height;if(k=="boxRainGrow"||k=="boxRainGrowReverse"){i.css({width:0,height:0})}if(g==h-1){setTimeout(function(){i.show().animate({opacity:"1",width:j,height:l},d.animSpeed/1.3,"",function(){b.trigger("nivo:animFinished")})},100+f,"JavaScript")}else{setTimeout(function(){i.show().animate({opacity:"1",width:j,height:l},d.animSpeed/1.3)},100+f,"JavaScript")}})(A,C,m,n,t);n++}C--}m+=100}}};if(a.fn.touchwipe){f.touchwipe({wipeLeft:function(a,b){var c=function(){clearInterval(j);j="";r(f,g,d,"next")};a.preventDefault();b.preventDefault();if(e.running){f.one("nivo:beforeSlideChange",function(){c()})}else{c()}},wipeRight:function(a,b){var c=function(){clearInterval(j);e.currentSlide-=2;j="";r(f,g,d,"prev")};a.preventDefault();b.preventDefault();if(e.running){f.one("nivo:beforeSlideChange",function(){c()})}else{c()}},min_move_x:1,min_move_y:1,preventDefaultEvents:false})}var s=function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d,10),c=a[--d],a[d]=a[b],a[b]=c);return a};var t=function(a){if(this.console&&typeof console.log!=="undefined"){console.log(a)}};this.stop=function(){if(!a(b).data("nivo:vars").stop){a(b).data("nivo:vars").stop=true;t("Stop Slider")}};this.start=function(){if(a(b).data("nivo:vars").stop){a(b).data("nivo:vars").stop=false;t("Start Slider")}};d.afterLoad.call(this);return this};a.fn.nivoSlider=function(c){return this.each(function(d,e){var f=a(this);if(f.data("nivoslider")){return f.data("nivoslider")}var g=new b(this,c);f.data("nivoslider",g)})};a.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,captionOpacity:.8,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,backgroundColor:"transparent",beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};a.fn._reverse=[].reverse})(jQuery)